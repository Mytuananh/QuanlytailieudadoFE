<div class="body-qlct-2">
  <div class="body-qlct-2-1">
    <div class="qlct-1">
      <div class="qlct-1-1"></div>
      <div class="qlct-1-2">QUẢN LÝ CÔNG TRÌNH</div>
      <div class="qlct-1-3"></div>
    </div>
    <div class="qlct-2" style="cursor: pointer" (click)="openSide()">
      <div class="qlct-2-1">CỐNG DƯỚI ĐÊ</div>
    </div>
    <div class="qlct-3" style="cursor: pointer" (click)="openSide()">
      <div class="qlct-3-1">TRẠM BƠM</div>
    </div>
    <div class="qlct-4" style="cursor: pointer" (click)="openSide()">
      <div class="qlct-4-1">CÔNG TRÌNH KÊNH</div>
    </div>
    <div class="qlct-5" style="cursor: pointer" (click)="openSide()">
      <div class="qlct-5-1">CÔNG TRÌNH KÊNH TƯỚI CẤP I</div>
    </div>
    <div class="qlct-6" style="cursor: pointer" (click)="openSide()">
      <div class="qlct-6-1">CÔNG TRÌNH TRÊN KÊNH</div>
    </div>
    <div class="qlct-7" style="cursor: pointer" (click)="openSide()">
      <div class="qlct-7-1">CÔNG TRÌNH KHÁC</div>
    </div>
  </div>
  <div class="side-qlct">
    <div id="my-side-qlct" class="side-qlct-1">
      <div class="side-1">
        <div class="side-1-1">
          <div class="side-1-1-1">
            <a
              href="javascript: void(0)"
              class="close-side"
              (click)="closeSide()"
              ><i class="fa fa-angle-double-left" aria-hidden="true"></i
            ></a>
          </div>
          <div class="side-1-1-2">DANH MỤC</div>
        </div>
        <div class="search-1">
          <form action="#">
            <input type="text" name="Name" placeholder="Nhập thông tin..." />
            <button type="submit">
              <i class="fa fa-search" aria-hidden="true"></i>
            </button>
          </form>
        </div>
      </div>
      <div
        class="side-2"
        *ngFor="let ct of listCT; let i = index"
        class="{{ ct.name }}"
      >
        <a (click)="changeCongTrinhTo(i)" style="cursor: pointer"
          >{{ i + 1 }}.{{ ct.name }}</a
        >
      </div>
    </div>
  </div>
  <div id="main-my-side-qlct" class="body-qlct-2-2">
    <div class="tabs" #tabItems>
      <div class="tab-item active">THÔNG TIN CHUNG</div>
      <div class="tab-item">THÔNG TIN QUẢN LÝ</div>
      <div class="tab-item">HỒ SƠ CÔNG TRÌNH</div>
      <div class="tab-item">HỒ SƠ VI PHẠM</div>
    </div>

    <div class="tab-content" #tabPanes>
      <div class="tab-pane active">
        <div class="menu-1">
          <div class="crud">
            <div
              class="icon-1"
              data-bs-toggle="modal"
              data-bs-target="#exampleModal"
            >
              <i class="fas fa-plus"></i>
            </div>
            <div class="icon-2" (click)="edit()">
              <i class="fas fa-edit"></i>
            </div>
            <div class="icon-3" (click)="deleteCT()">
              <i class="fas fa-trash"></i>
            </div>
          </div>
          <div class="crud-1"></div>
          <div class="crud-2" (click)="openSide1()">
            <i class="fas fa-ellipsis-v"></i>
          </div>
        </div>
        <div class="content-1">
          <div class="content-1-1">
            <table class="content-1-a">
              <thead>
                <tr>
                  <th>STT</th>
                  <th>HẠNG MỤC</th>
                  <th>MÔ TẢ</th>
                  <th>DỮ LIỆU</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>1</td>
                  <td style="text-align: left">MÃ CÔNG TRÌNH:</td>
                  <td style="text-align: left">
                    <ng-container *ngIf="!isEditing && !isCreating">
                      {{ congtrinh.maCT }}
                    </ng-container>
                    <ng-container *ngIf="isEditing">
                      <input type="text" [(ngModel)]="congtrinh.maCT" />
                    </ng-container>
                    <ng-container *ngIf="isCreating">
                      <input type="text" [(ngModel)]="congtrinh.maCT" />
                    </ng-container>
                  </td>
                  <td></td>
                </tr>
                <tr>
                  <td>2</td>
                  <td style="text-align: left">TÊN CÔNG TRÌNH:</td>
                  <td style="text-align: left">
                    <ng-container *ngIf="!isEditing && !isCreating">
                      {{ congtrinh.name }}
                    </ng-container>
                    <ng-container *ngIf="isEditing">
                      <input type="text" [(ngModel)]="congtrinh.name" />
                    </ng-container>
                    <ng-container *ngIf="isCreating">
                      <input type="text" [(ngModel)]="congtrinh.name" />
                    </ng-container>
                  </td>
                  <td></td>
                </tr>
                <tr>
                  <td>3</td>
                  <td style="text-align: left">VỊ TRÍ/ĐỊA ĐIỂM:</td>
                  <td style="text-align: left">
                    <ng-container *ngIf="!isEditing && !isCreating">
                      {{ congtrinh.viTri }}
                    </ng-container>
                    <ng-container *ngIf="isEditing">
                      <input type="text" [(ngModel)]="congtrinh.viTri" />
                    </ng-container>
                    <ng-container *ngIf="isCreating">
                      <input type="text" [(ngModel)]="congtrinh.viTri" />
                    </ng-container>
                  </td>
                  <td
                    onclick="td()"
                    style="cursor: pointer; text-decoration-line: underline"
                  >
                    Link Map
                  </td>
                </tr>
                <tr>
                  <td>4</td>
                  <td style="text-align: left">QUY MÔ</td>
                  <td style="text-align: left">
                    <ng-container *ngIf="!isEditing && !isCreating">
                      {{ congtrinh.quyMo }}
                    </ng-container>
                    <ng-container *ngIf="isEditing">
                      <input type="text" [(ngModel)]="congtrinh.quyMo" />
                    </ng-container>
                    <ng-container *ngIf="isCreating">
                      <input type="text" [(ngModel)]="congtrinh.quyMo" />
                    </ng-container>
                  </td>
                  <td></td>
                </tr>
                <tr>
                  <td>5</td>
                  <td style="text-align: left">THIẾT BỊ:</td>
                  <td style="text-align: left">
                    <ng-container *ngIf="!isEditing && !isCreating">
                      {{ congtrinh.thietBi }}
                    </ng-container>
                    <ng-container *ngIf="isEditing">
                      <input type="text" [(ngModel)]="congtrinh.thietBi" />
                    </ng-container>
                    <ng-container *ngIf="isCreating">
                      <input type="text" [(ngModel)]="congtrinh.thietBi" />
                    </ng-container>
                  </td>
                  <td></td>
                </tr>
                <tr>
                  <td>6</td>
                  <td style="text-align: left">CÔNG TRÌNH LIÊN QUAN</td>
                  <td style="text-align: left">
                    {{
                      congtrinh.tenCongTrinhLienQuan
                        ? congtrinh.tenCongTrinhLienQuan.length()
                        : 0
                    }}
                  </td>
                  <td>
                    <label>
                      <select onclick="hp()">
                        <option
                          style="
                            cursor: pointer;
                            text-decoration-line: underline;
                          "
                        >
                          Kênh trước cống
                        </option>
                        <option
                          style="
                            cursor: pointer;
                            text-decoration-line: underline;
                          "
                        >
                          Kênh sau cống cống
                        </option>
                      </select>
                    </label>
                  </td>
                </tr>
                <tr>
                  <td>7</td>
                  <td style="text-align: left">THÔNG TIN KHÁC</td>
                  <td style="text-align: left">
                    <ng-container *ngIf="!isEditing && !isCreating">
                      {{ congtrinh.thongTinKhac }}
                    </ng-container>
                    <ng-container *ngIf="isEditing">
                      <input type="text" [(ngModel)]="congtrinh.thongTinKhac" />
                    </ng-container>
                    <ng-container *ngIf="isCreating">
                      <input type="text" [(ngModel)]="congtrinh.thongTinKhac" />
                    </ng-container>
                  </td>
                  <td
                    onclick="th()"
                    style="cursor: pointer; text-decoration-line: underline"
                  >
                    File HS đính kèm
                  </td>
                </tr>
                <tr>
                  <td>8</td>
                  <td style="text-align: left">LOẠI CÔNG TRÌNH:</td>
                  <td style="text-align: left">
                    <ng-container *ngIf="!isEditing && !isCreating">
                      {{ congtrinh.type }}
                    </ng-container>
                    <ng-container *ngIf="isCreating">
                      <input type="text" [(ngModel)]="congtrinh.type" />
                    </ng-container>
                    <ng-container *ngIf="isEditing">
                      <input type="text" [(ngModel)]="congtrinh.type" />
                    </ng-container>
                  </td>
                  <td></td>
                </tr>
              </tbody>

              <tbody></tbody>
            </table>
          </div>
          <div class="content-1-2">
            <div class="content-1-2-a">HÌNH ẢNH CÔNG TRÌNH</div>
            <div class="content-1-2-b">
              <div
                id="carouselExampleInterval"
                class="carousel slide"
                data-bs-ride="carousel"
              >
                <div class="carousel-inner">
                  <div
                    class="carousel-item"
                    *ngFor="let img of congtrinh.images; let i = index"
                    [ngClass]="i == 0 ? 'active' : ''"
                    data-bs-interval="10000"
                  >
                    <img
                      [src]="'http://localhost:8080/api/images/preview/' + img"
                      class="d-block w-100"
                      alt="..."
                    />
                  </div>
                </div>
                <button
                  class="carousel-control-prev"
                  type="button"
                  data-bs-target="#carouselExampleInterval"
                  data-bs-slide="prev"
                >
                  <span
                    class="carousel-control-prev-icon"
                    aria-hidden="true"
                  ></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button
                  class="carousel-control-next"
                  type="button"
                  data-bs-target="#carouselExampleInterval"
                  data-bs-slide="next"
                >
                  <span
                    class="carousel-control-next-icon"
                    aria-hidden="true"
                  ></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="tab-pane">b</div>
      <div class="tab-pane">c</div>
      <div class="tab-pane">d</div>
    </div>
  </div>
  <div id="my-side-qlct-1" class="side-qlct-1-his">
    <div class="side-1-his">
      <div class="side-1-1-his">
        <div class="side-1-1-1-his">
          <a
            href="javascript: void(0)"
            class="close-side-1"
            (click)="closeSide1()"
            ><i class="fa fa-angle-double-right" aria-hidden="true"></i
          ></a>
        </div>
        <div class="side-1-1-2-his">LỊCH SỬ CHỈNH SỬA</div>
      </div>
    </div>
    <div class="side-2-his"></div>
  </div>
</div>

<!-- ------------------------------------------------ Modal ------------------------------- -->
<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <form (ngSubmit)="createCongTrinh()">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">
            TẠO MỚI CÔNG TRÌNH
          </h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <div class="input-group mb-3">
            <div class="input-group mb-3">
              <select class="form-select" id="inputGroupSelect02">
                <option selected>Choose...</option>
                <option value="C">C</option>
                <option value="K">K</option>
                <option value="KT">KT</option>
              </select>
              <label class="input-group-text" for="inputGroupSelect02"
                >Options</label
              >
            </div>
            <input
              type="text"
              class="form-control"
              aria-label="Text input with dropdown button"
              placeholder="Nhập số thứ tự công trình..."
            />
          </div>
          <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon1"
              >TÊN CÔNG TRÌNH</span
            >
            <input
              type="text"
              class="form-control"
              placeholder="Nhập tên công trình..."
              aria-label="Username"
              aria-describedby="basic-addon1"
            />
          </div>
          <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon2"
              >VỊ TRÍ/ĐỊA ĐIỂM</span
            >
            <input
              type="text"
              class="form-control"
              placeholder="Nhập vị trí công trình..."
              aria-label="Username"
              aria-describedby="basic-addon1"
            />
          </div>
          <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3"
              >QUY MÔ CÔNG TRÌNH</span
            >
            <input
              type="text"
              class="form-control"
              placeholder="Nhập quy mô công trình..."
              aria-label="Username"
              aria-describedby="basic-addon1"
            />
          </div>
          <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon4">THIẾT BỊ</span>
            <input
              type="text"
              class="form-control"
              placeholder="Nhập thiết bị..."
              aria-label="Username"
              aria-describedby="basic-addon1"
            />
          </div>
          <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon5"
              >CÔNG TRÌNH LIÊN QUAN</span
            >
            <button type="button" class="btn btn-outline-primary">
              Tạo công trình liên quan
            </button>
          </div>
          <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon6"
              >THÔNG TIN KHÁC</span
            ><br />
            <input
              type="text"
              class="form-control"
              placeholder="Nhập thông tin khác"
              aria-label="Username"
              aria-describedby="basic-addon1"
            /><br />
          </div>
          <div class="input-group mb-3">
            <input type="file" class="form-control" id="inputGroupFile02" />
            <label class="input-group-text" for="inputGroupFile02"
              >Upload</label
            >
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Đóng
          </button>
          <button type="submit" class="btn btn-primary">Lưu</button>
        </div>
      </form>
    </div>
  </div>
</div>
